<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>柯南故事 - 红与黑的交响：雨夜的奏鸣曲</title>
    <!-- React -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const React = window.React;
      const ReactDOM = window.ReactDOM;
      const { useState, useRef } = React;

      const ConanStoryPage = () => {
        const [isPlaying, setIsPlaying] = useState(false);
        const audioRef = useRef(null);
        const [showFullContent, setShowFullContent] = useState(false);

        const toggleAudio = () => {
          if (isPlaying) {
            audioRef.current?.pause();
          } else {
            audioRef.current?.play();
          }
          setIsPlaying(!isPlaying);
        };

        const toggleContent = () => {
          setShowFullContent(!showFullContent);
        };

        return (
          <div className="min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-gray-100 font-sans">
            {/* Header */}
            <header className="container mx-auto px-4 py-8">
              <div className="flex flex-col md:flex-row justify-between items-start md:items-center">
                <div>
                  <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-red-500 to-red-700 bg-clip-text text-transparent">
                    红与黑的交响：雨夜的奏鸣曲
                  </h1>
                  <p className="text-gray-400 mt-2">柯南系列故事</p>
                </div>
                <button
                  onClick={toggleAudio}
                  className="mt-4 md:mt-0 flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-full px-6 py-3 transition-all hover:scale-105 active:scale-95"
                >
                  <span className="mr-2">🎧</span>
                  <span>{isPlaying ? '暂停音频' : '播放音频'}</span>
                </button>
              </div>
            </header>

            {/* Main Content */}
            <main className="container mx-auto px-4 pb-12">
              {/* Audio Player (hidden) */}
              <audio
                ref={audioRef}
                src="https://lf-bot-studio-plugin-resource.coze.cn/obj/bot-studio-platform-plugin-tos/artist/image/2cce209574844dae9e08177935f14c09.mp3"
                onEnded={() => setIsPlaying(false)}
              />

              {/* Story Image */}
              <div className="mb-8 rounded-xl overflow-hidden shadow-2xl">
                <img
                  src="https://s.coze.cn/t/3FfdKCTztsY/"
                  alt="红与黑的交响：雨夜的奏鸣曲"
                  className="w-full h-auto max-h-96 object-cover"
                />
              </div>

              {/* Story Content */}
              <div className="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-xl p-6 border border-gray-700">
                <div className="flex items-center mb-4">
                  <span className="text-red-500 mr-2">📖</span>
                  <h2 className="text-xl font-semibold">故事内容</h2>
                </div>

                <div className={`overflow-hidden ${showFullContent ? '' : 'max-h-96'}`}>
                  <p className="mb-4">
                    东京的雨夜，总是带着一股能渗入骨髓的湿冷。霓虹灯的光晕在湿漉漉的柏油路上弥散开来，像一幅被打湿的水彩画。
                  </p>
                  <p className="mb-4">
                    阿笠博士家，窗外的雨声淅淅沥沥，屋内却弥漫着一种不同寻常的紧张。灰原哀坐在电脑前，脸色苍白，指尖微微颤抖。屏幕上跳动着复杂的代码流，看似杂乱无章，却隐隐构成某种规律。
                  </p>
                  <p className="mb-4">
                    几天前，一个加密频道异常活跃，引起了她的警觉。凭借过去在组织里培养出的直觉和对他们加密方式的了解，她截获了一些碎片化的信息。这些信息指向一个代号——"夜莺"。
                  </p>
                  <p className="mb-4">
                    "怎么样，灰原？"江户川柯南站在她身后，小小的身体里散发着与年龄不符的凝重。他调整了一下眼镜，镜片反射着屏幕的光芒。
                  </p>
                  <p className="mb-4">
                    "很麻烦，"灰原的声音低沉而沙哑，"他们的加密方式升级了，我只能解析出片段。提到了'码头'、'第七仓库'、'午夜交接'，还有'夜莺'……这个代号，我从未听过。"她的眼神里充满了恐惧，那是对过去阴影无法摆脱的烙印。
                  </p>
                </div>

                <div className="flex justify-center mt-4">
                  <button
                    onClick={toggleContent}
                    className="flex items-center text-gray-400 hover:text-white transition-colors hover:scale-105 active:scale-95"
                  >
                    {showFullContent ? (
                      <>
                        <span className="mr-1">🔼</span>
                        <span>收起内容</span>
                      </>
                    ) : (
                      <>
                        <span className="mr-1">🔽</span>
                        <span>展开全部内容</span>
                      </>
                    )}
                  </button>
                </div>
              </div>
            </main>

            {/* Footer */}
            <footer className="bg-gray-900 bg-opacity-70 py-4 border-t border-gray-800">
              <div className="container mx-auto px-4 text-center text-gray-500 text-sm">
                <p>created by <a href="https://space.coze.cn" className="text-blue-400 hover:underline">coze space</a></p>
                <p className="mt-1">朗博生成</p>
              </div>
            </footer>
          </div>
        );
      };

      // 页面加载完成后渲染
      ReactDOM.render(
        <ConanStoryPage />,
        document.getElementById('root')
      );
    </script>
  </body>
</html> 